{% extends "base.html" %}

{#
  Insert additional CSS into the page head to control icon sizing.
  The ``extra_head`` block is defined in base.html; by overriding it
  here we can inject our own <style> tag without editing the base
  template directly.  The !important directives ensure our icon sizes
  override any other conflicting rules.
#}
{% block extra_head %}
  {{ super() }}
  <style>
    /* Consistent sizing for header icons across pages */
    .page-title-container img,
    .page-icon {
      width: 64px !important;
      height: 64px !important;
      max-width: 64px !important;
      max-height: 64px !important;
      object-fit: contain !important;
    }
    /* Flex layout for the title container */
    .page-title-container {
      display: flex !important;
      align-items: center !important;
      gap: 1rem !important;
      flex-wrap: wrap;
    }
    /* Material icons sizing */
    .material-icon,
    .material-icon-new {
      width: 40px !important;
      height: 40px !important;
      max-width: 40px !important;
      max-height: 40px !important;
      object-fit: contain !important;
    }
    /* Service icons sizing */
    .service-icon-container img,
    .service-icon {
      width: 80px !important;
      height: 80px !important;
      max-width: 80px !important;
      max-height: 80px !important;
      object-fit: contain !important;
    }
    /* Contact icons sizing */
    .method-icon,
    .contact-card img,
    .contact-method-card img {
      width: 64px !important;
      height: 64px !important;
      max-width: 64px !important;
      max-height: 64px !important;
      object-fit: contain !important;
    }
  </style>
{% endblock extra_head %}

{#
  Custom page template for the TESS site.
  This template ensures that pages can display a small header icon when
  the corresponding markdown file defines an ``Icon`` metadata field.
  The icon and title are presented in a horizontal flex container to
  harmonize with the rest of the site, and summary text appears
  underneath.  Content follows below, with a call‚Äëto‚Äëaction at the
  bottom.
#}

{% block content %}
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <article>
          <header class="mb-5">
            <div class="card">
              <div class="card-body p-4">
                {# Render the icon and title if ``page.icon`` is defined.  The CSS
                   class ``page-icon`` is sized via custom-icons.css. #}
                {% if page.icon %}
                <div class="page-title-container mb-3">
                  <img src="{{ SITEURL }}/images/icons/{{ page.icon }}" alt="{{ page.title }}" class="page-icon me-3">
                  <h1 class="display-5 fw-bold text-primary mb-3 d-inline-block">{{ page.title }}</h1>
                </div>
                {% else %}
                <h1 class="display-5 fw-bold text-primary mb-3">{{ page.title }}</h1>
                {% endif %}
                {% if page.summary %}
                <p class="lead text-muted">{{ page.summary }}</p>
                {% endif %}
              </div>
            </div>
          </header>
          <div class="page-content mb-5">
            {{ page.content }}
          </div>
          {# Simple call to action, optional; remove if undesired #}
          <div class="card mb-4">
            <div class="card-body p-4">
              <h2 class="h4 mb-3">–ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è?</h2>
              <p class="mb-4">–ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤ —Ç–µ—á–µ–Ω–∏–µ 2&nbsp;—á–∞—Å–æ–≤</p>
              <div class="d-flex gap-3 flex-wrap">
                <a href="{{ SITEURL }}/–∫–æ–Ω—Ç–∞–∫—Ç—ã/" class="btn btn-primary">üìû&nbsp;–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</a>
                <a href="mailto:laipnis@mail.ru" class="btn btn-outline-primary">‚úâÔ∏è&nbsp;–ù–∞–ø–∏—Å–∞—Ç—å –ø–∏—Å—å–º–æ</a>
              </div>
            </div>
          </div>
        </article>
      </div>
    </div>
  </div>
{% endblock content %}